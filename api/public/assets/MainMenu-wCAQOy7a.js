import{R as j,j as e,r as n,A as w,L as o,h as N}from"./index-CKYmbEVX.js";const d=()=>{const[i,r]=j.useState(""),c=l=>{r(l.target.value)};return e.jsx("section",{children:e.jsx("div",{className:"flex items-center justify-center p-5",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex w-10 items-center justify-center rounded-tl-lg rounded-bl-lg border-r border-gray-200 bg-white p-5",children:e.jsx("svg",{viewBox:"0 0 20 20","aria-hidden":"true",className:"pointer-events-none absolute w-5 fill-gray-500 transition"})}),e.jsx("input",{type:"text",className:"w-full max-w-[160px] bg-white pl-2 text-base font-semibold outline-0",placeholder:"Search...",id:"search",value:i,onChange:c}),e.jsx("input",{type:"button",value:"Search",className:"bg-blue-500 p-2 rounded-tr-lg rounded-br-lg text-white font-semibold hover:bg-blue-800 transition-colors"})]})})})};d.propTypes={};d.defaultProps={};const C="_NavImg_t07om_4",f="_spin_t07om_1",v="_heading_t07om_21",b="_nav_t07om_27",k="_searchContainer_t07om_40",y="_linksContainer_t07om_46",I="_linksH3_t07om_54",S="_SearchInput_t07om_64",R="_link_t07om_46",L="_Link_t07om_102",P="_logoutButton_t07om_102",A="_buttonContainer_t07om_107",H="_rewardsHeading_t07om_131",B="_rewardsContainer_t07om_138",E="_rewardCard_t07om_144",D="_pagination_t07om_174",F="_petImage_t07om_199",t={NavImg:C,spin:f,heading:v,nav:b,searchContainer:k,linksContainer:y,linksH3:I,SearchInput:S,link:R,Link:L,logoutButton:P,buttonContainer:A,rewardsHeading:H,rewardsContainer:B,rewardCard:E,pagination:D,"current-page":"_current-page_t07om_194",petImage:F},z=()=>{const{logout:i,token:r}=n.useContext(w),[c,l]=n.useState([]),[u,g]=n.useState(1),[p,_]=n.useState(0),[M,m]=n.useState(!1),[$,h]=n.useState(null);n.useEffect(()=>{(async()=>{m(!0),h(null);try{const a=await N.get("/rewards?page=1&limit=5",{headers:{Authorization:`Bearer ${r}`}});if(console.log(a),a.status!==200)throw new Error("Failed to fetch rewards");l(a.data.rewards),_(Math.ceil(a.data.total/10))}catch(a){console.error("Failed to fetch rewards",a),h("Failed to fetch rewards")}finally{m(!1)}})()},[r]);const x=s=>{g(s)};return e.jsxs(e.Fragment,{children:[e.jsxs("nav",{className:t.nav,children:[e.jsx("div",{className:t.buttonContainer,children:e.jsx("button",{onClick:i,className:t.logoutButton,children:"Logout"})}),e.jsx("h1",{className:t.heading,children:"Welcome to"}),e.jsx("h1",{className:t.heading,children:"PIS"}),e.jsx("img",{src:"../../public/amuleto.png",className:t.NavImg,alt:"Amuleto"}),e.jsx(d,{})]}),e.jsx("div",{className:t.searchContainer}),e.jsx("h3",{className:t.linksH3,children:"Navs"}),e.jsxs("div",{className:t.linksContainer,children:[e.jsx(o,{to:"/dashboard",className:t.link,children:"Go to Dashboard"}),e.jsx(o,{to:"/create-pet",className:t.link,children:"Register your pet"}),e.jsx(o,{to:"/create-reward",className:t.link,children:"Create Reward for Pet"}),e.jsx(o,{to:"/my-pets",className:t.link,children:"My pets"})]}),e.jsx("h3",{className:t.rewardsHeading,children:"Available Rewards"}),e.jsx("div",{className:t.rewardsContainer,children:c.map(s=>e.jsxs("div",{className:t.rewardCard,children:[e.jsxs("h3",{children:["Reward for finding ",s.pet.name]}),e.jsxs("p",{children:["Amount: $",s.amount]}),e.jsxs("p",{children:["Pet: ",s.pet.name," (Owner ID: ",s.pet.ownerId,")"]}),e.jsxs("p",{children:["Location: ",s.location.address,", ",s.location.city]}),e.jsx("img",{src:"https://n-missing-pets.s3.us-west-1.amazonaws.com/1713462813249_pet.jpg",className:t.petImage}),e.jsxs("small",{children:["Created on: ",new Date(s.createdAt).toLocaleDateString()]})]},s.id))}),e.jsx("div",{className:t.pagination,children:Array.from({length:p},(s,a)=>e.jsx("button",{onClick:()=>x(a+1),className:u===a+1?t.currentPage:"",children:a+1},a+1))})]})};export{z as default};
